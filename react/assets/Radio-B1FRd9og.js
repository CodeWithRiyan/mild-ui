import{j as s}from"./jsx-runtime-DF2Pcvd1.js";import{r as n}from"./index-B2-qRKKC.js";import{c as k,P as F,b as x,a as L,d as fe,e as pe}from"./index-ChlNXIGl.js";import{u as _}from"./Form-6r68mTog.js";import{c as me,u as ve,a as K,b as Re}from"./index-cxmg2vMN.js";import{P as Ie}from"./index-DnB962Pj.js";import{c as E}from"./cn-Dtjc6EhN.js";import{c as be}from"./createLucideIcon-DyoHGKTE.js";const ge=be("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);function he(e){const{size:r="md"}=e;return E("mild-radio",`mild-radio--${r}`)}function xe(e){const{size:r="md"}=e;return E("mild-radio-label",`mild-radio-label--${r}`)}var T="rovingFocusGroup.onEntryFocus",we={bubbles:!1,cancelable:!0},S="RovingFocusGroup",[j,U,ye]=me(S),[Ee,B]=k(S,[ye]),[Ce,Fe]=Ee(S),V=n.forwardRef((e,r)=>s.jsx(j.Provider,{scope:e.__scopeRovingFocusGroup,children:s.jsx(j.Slot,{scope:e.__scopeRovingFocusGroup,children:s.jsx(Se,{...e,ref:r})})}));V.displayName=S;var Se=n.forwardRef((e,r)=>{const{__scopeRovingFocusGroup:o,orientation:t,loop:a=!1,dir:c,currentTabStopId:i,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:v,onEntryFocus:f,preventScrollOnEntryFocus:d=!1,...R}=e,I=n.useRef(null),p=_(r,I),m=K(c),[g,u]=L({prop:i,defaultProp:l??null,onChange:v,caller:S}),[w,A]=n.useState(!1),h=Re(f),y=U(o),P=n.useRef(!1),[ce,O]=n.useState(0);return n.useEffect(()=>{const b=I.current;if(b)return b.addEventListener(T,h),()=>b.removeEventListener(T,h)},[h]),s.jsx(Ce,{scope:o,orientation:t,dir:m,loop:a,currentTabStopId:g,onItemFocus:n.useCallback(b=>u(b),[u]),onItemShiftTab:n.useCallback(()=>A(!0),[]),onFocusableItemAdd:n.useCallback(()=>O(b=>b+1),[]),onFocusableItemRemove:n.useCallback(()=>O(b=>b-1),[]),children:s.jsx(F.div,{tabIndex:w||ce===0?-1:0,"data-orientation":t,...R,ref:p,style:{outline:"none",...e.style},onMouseDown:x(e.onMouseDown,()=>{P.current=!0}),onFocus:x(e.onFocus,b=>{const ie=!P.current;if(b.target===b.currentTarget&&ie&&!w){const M=new CustomEvent(T,we);if(b.currentTarget.dispatchEvent(M),!M.defaultPrevented){const G=y().filter(C=>C.focusable),ue=G.find(C=>C.active),de=G.find(C=>C.id===g),le=[ue,de,...G].filter(Boolean).map(C=>C.ref.current);z(le,d)}}P.current=!1}),onBlur:x(e.onBlur,()=>A(!1))})})}),$="RovingFocusGroupItem",q=n.forwardRef((e,r)=>{const{__scopeRovingFocusGroup:o,focusable:t=!0,active:a=!1,tabStopId:c,children:i,...l}=e,v=ve(),f=c||v,d=Fe($,o),R=d.currentTabStopId===f,I=U(o),{onFocusableItemAdd:p,onFocusableItemRemove:m,currentTabStopId:g}=d;return n.useEffect(()=>{if(t)return p(),()=>m()},[t,p,m]),s.jsx(j.ItemSlot,{scope:o,id:f,focusable:t,active:a,children:s.jsx(F.span,{tabIndex:R?0:-1,"data-orientation":d.orientation,...l,ref:r,onMouseDown:x(e.onMouseDown,u=>{t?d.onItemFocus(f):u.preventDefault()}),onFocus:x(e.onFocus,()=>d.onItemFocus(f)),onKeyDown:x(e.onKeyDown,u=>{if(u.key==="Tab"&&u.shiftKey){d.onItemShiftTab();return}if(u.target!==u.currentTarget)return;const w=Ae(u,d.orientation,d.dir);if(w!==void 0){if(u.metaKey||u.ctrlKey||u.altKey||u.shiftKey)return;u.preventDefault();let h=I().filter(y=>y.focusable).map(y=>y.ref.current);if(w==="last")h.reverse();else if(w==="prev"||w==="next"){w==="prev"&&h.reverse();const y=h.indexOf(u.currentTarget);h=d.loop?Pe(h,y+1):h.slice(y+1)}setTimeout(()=>z(h))}}),children:typeof i=="function"?i({isCurrentTabStop:R,hasTabStop:g!=null}):i})})});q.displayName=$;var _e={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Ne(e,r){return r!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Ae(e,r,o){const t=Ne(e.key,o);if(!(r==="vertical"&&["ArrowLeft","ArrowRight"].includes(t))&&!(r==="horizontal"&&["ArrowUp","ArrowDown"].includes(t)))return _e[t]}function z(e,r=!1){const o=document.activeElement;for(const t of e)if(t===o||(t.focus({preventScroll:r}),document.activeElement!==o))return}function Pe(e,r){return e.map((o,t)=>e[(r+t)%e.length])}var Ge=V,Te=q,D="Radio",[je,Y]=k(D),[ke,De]=je(D),H=n.forwardRef((e,r)=>{const{__scopeRadio:o,name:t,checked:a=!1,required:c,disabled:i,value:l="on",onCheck:v,form:f,...d}=e,[R,I]=n.useState(null),p=_(r,u=>I(u)),m=n.useRef(!1),g=R?f||!!R.closest("form"):!0;return s.jsxs(ke,{scope:o,checked:a,disabled:i,children:[s.jsx(F.button,{type:"button",role:"radio","aria-checked":a,"data-state":Q(a),"data-disabled":i?"":void 0,disabled:i,value:l,...d,ref:p,onClick:x(e.onClick,u=>{a||v?.(),g&&(m.current=u.isPropagationStopped(),m.current||u.stopPropagation())})}),g&&s.jsx(J,{control:R,bubbles:!m.current,name:t,value:l,checked:a,required:c,disabled:i,form:f,style:{transform:"translateX(-100%)"}})]})});H.displayName=D;var W="RadioIndicator",X=n.forwardRef((e,r)=>{const{__scopeRadio:o,forceMount:t,...a}=e,c=De(W,o);return s.jsx(Ie,{present:t||c.checked,children:s.jsx(F.span,{"data-state":Q(c.checked),"data-disabled":c.disabled?"":void 0,...a,ref:r})})});X.displayName=W;var Oe="RadioBubbleInput",J=n.forwardRef(({__scopeRadio:e,control:r,checked:o,bubbles:t=!0,...a},c)=>{const i=n.useRef(null),l=_(i,c),v=fe(o),f=pe(r);return n.useEffect(()=>{const d=i.current;if(!d)return;const R=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(R,"checked").set;if(v!==o&&p){const m=new Event("click",{bubbles:t});p.call(d,o),d.dispatchEvent(m)}},[v,o,t]),s.jsx(F.input,{type:"radio","aria-hidden":!0,defaultChecked:o,...a,tabIndex:-1,ref:l,style:{...a.style,...f,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});J.displayName=Oe;function Q(e){return e?"checked":"unchecked"}var Me=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],N="RadioGroup",[Le,ro]=k(N,[B,Y]),Z=B(),ee=Y(),[Ke,Ue]=Le(N),oe=n.forwardRef((e,r)=>{const{__scopeRadioGroup:o,name:t,defaultValue:a,value:c,required:i=!1,disabled:l=!1,orientation:v,dir:f,loop:d=!0,onValueChange:R,...I}=e,p=Z(o),m=K(f),[g,u]=L({prop:c,defaultProp:a??null,onChange:R,caller:N});return s.jsx(Ke,{scope:o,name:t,required:i,disabled:l,value:g,onValueChange:u,children:s.jsx(Ge,{asChild:!0,...p,orientation:v,dir:m,loop:d,children:s.jsx(F.div,{role:"radiogroup","aria-required":i,"aria-orientation":v,"data-disabled":l?"":void 0,dir:m,...I,ref:r})})})});oe.displayName=N;var re="RadioGroupItem",te=n.forwardRef((e,r)=>{const{__scopeRadioGroup:o,disabled:t,...a}=e,c=Ue(re,o),i=c.disabled||t,l=Z(o),v=ee(o),f=n.useRef(null),d=_(r,f),R=c.value===a.value,I=n.useRef(!1);return n.useEffect(()=>{const p=g=>{Me.includes(g.key)&&(I.current=!0)},m=()=>I.current=!1;return document.addEventListener("keydown",p),document.addEventListener("keyup",m),()=>{document.removeEventListener("keydown",p),document.removeEventListener("keyup",m)}},[]),s.jsx(Te,{asChild:!0,...l,focusable:!i,active:R,children:s.jsx(H,{disabled:i,required:c.required,checked:R,...v,...a,name:c.name,ref:d,onCheck:()=>c.onValueChange(a.value),onKeyDown:x(p=>{p.key==="Enter"&&p.preventDefault()}),onFocus:x(a.onFocus,()=>{I.current&&f.current?.click()})})})});te.displayName=re;var Be="RadioGroupIndicator",ne=n.forwardRef((e,r)=>{const{__scopeRadioGroup:o,...t}=e,a=ee(o);return s.jsx(X,{...a,...t,ref:r})});ne.displayName=Be;var Ve=oe,$e=te,qe=ne;const ae=n.forwardRef(({className:e,...r},o)=>s.jsx(Ve,{className:E("--mild-grid --mild-gap-2",e),...r,ref:o}));ae.displayName="RadioGroup";const se=n.forwardRef(({className:e,size:r="md",label:o,value:t,disabled:a,required:c,id:i,...l},v)=>{const f=i||`radio-${t}`;return s.jsxs("div",{className:"--mild-flex --mild-items-center --mild-space-x-2",children:[s.jsx($e,{ref:v,className:E(he({size:r}),e),value:t,disabled:a,required:c,id:f,...l,children:s.jsx(qe,{className:"--mild-flex --mild-items-center --mild-justify-center",children:s.jsx(ge,{className:E("--mild-h-2.5 --mild-w-2.5 --mild-fill-current --mild-text-current")})})}),o&&s.jsx("label",{htmlFor:f,className:E(xe({size:r}),a&&"--mild-opacity-50 --mild-cursor-not-allowed"),children:o})]})});se.displayName="RadioGroupItem";const ze=n.forwardRef(({items:e,size:r="md",children:o,className:t,ui:a,...c},i)=>s.jsx(ae,{ref:i,className:E(t,a?.contaier),...c,children:e?e.map(l=>n.createElement(se,{...l,key:l.value,size:r,className:E(l.className,a?.items)})):o}));ze.displayName="Radio";export{ze as R,ae as a,se as b};
