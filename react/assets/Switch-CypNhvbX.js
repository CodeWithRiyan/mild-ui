import{j as a}from"./jsx-runtime-DF2Pcvd1.js";import{r as d}from"./index-B2-qRKKC.js";import{a as B,c as z,P,b as I,d as L,e as M}from"./index-ChlNXIGl.js";import{u as N}from"./Form-6r68mTog.js";import{c as m}from"./cn-Dtjc6EhN.js";import{L as H}from"./Label-Dk0OgnlF.js";function $(e){const{size:t="md"}=e;return m("mild-switch",`mild-switch--${t}`)}function q(e){const{size:t="md"}=e;return m("mild-switch-thumb",`mild-switch-thumb--${t}`)}function A(e){const{size:t="md"}=e;return m("mild-switch-label",`mild-switch-label--${t}`)}var C="Switch",[U,ee]=z(C),[V,F]=U(C),j=d.forwardRef((e,t)=>{const{__scopeSwitch:s,name:r,checked:o,defaultChecked:p,required:l,disabled:i,value:u="on",onCheckedChange:f,form:n,...S}=e,[h,c]=d.useState(null),w=N(t,x=>c(x)),b=d.useRef(!1),k=h?n||!!h.closest("form"):!0,[v,g]=B({prop:o,defaultProp:p??!1,onChange:f,caller:C});return a.jsxs(V,{scope:s,checked:v,disabled:i,children:[a.jsx(P.button,{type:"button",role:"switch","aria-checked":v,"aria-required":l,"data-state":_(v),"data-disabled":i?"":void 0,disabled:i,value:u,...S,ref:w,onClick:I(e.onClick,x=>{g(T=>!T),k&&(b.current=x.isPropagationStopped(),b.current||x.stopPropagation())})}),k&&a.jsx(R,{control:h,bubbles:!b.current,name:r,value:u,checked:v,required:l,disabled:i,form:n,style:{transform:"translateX(-100%)"}})]})});j.displayName=C;var y="SwitchThumb",E=d.forwardRef((e,t)=>{const{__scopeSwitch:s,...r}=e,o=F(y,s);return a.jsx(P.span,{"data-state":_(o.checked),"data-disabled":o.disabled?"":void 0,...r,ref:t})});E.displayName=y;var O="SwitchBubbleInput",R=d.forwardRef(({__scopeSwitch:e,control:t,checked:s,bubbles:r=!0,...o},p)=>{const l=d.useRef(null),i=N(l,p),u=L(s),f=M(t);return d.useEffect(()=>{const n=l.current;if(!n)return;const S=window.HTMLInputElement.prototype,c=Object.getOwnPropertyDescriptor(S,"checked").set;if(u!==s&&c){const w=new Event("click",{bubbles:r});c.call(n,s),n.dispatchEvent(w)}},[u,s,r]),a.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s,...o,tabIndex:-1,ref:i,style:{...o.style,...f,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});R.displayName=O;function _(e){return e?"checked":"unchecked"}var D=j,W=E;const X=d.forwardRef((e,t)=>{const{className:s,size:r="md",label:o,checked:p,defaultChecked:l,disabled:i,required:u,name:f,value:n,indeterminate:S,id:h,ui:c,onCheckedChange:w,...b}=e;return a.jsxs("div",{className:m("flex items-center space-x-4",c?.container),children:[a.jsx(D,{ref:t,id:h,checked:p,defaultChecked:l,disabled:i,name:f,value:n,onCheckedChange:w,className:m($({size:r}),s,c?.switch),...b,children:a.jsx(W,{className:m(q({size:r}),c?.thumb)})}),o&&a.jsx(H,{htmlFor:h,className:m(A({size:r}),c?.label),required:u,children:o})]})});X.displayName="Switch";export{X as S};
