import{r as i,a as C}from"./index-B2-qRKKC.js";import{j as h}from"./jsx-runtime-DF2Pcvd1.js";import{r as E}from"./index-Bagf71Y5.js";import{g as w}from"./Form-6r68mTog.js";function D(e,t=[]){let o=[];function u(c,s){const n=i.createContext(s),f=o.length;o=[...o,s];const d=a=>{const{scope:v,children:m,...p}=a,b=v?.[e]?.[f]||n,x=i.useMemo(()=>p,Object.values(p));return h.jsx(b.Provider,{value:x,children:m})};d.displayName=c+"Provider";function l(a,v){const m=v?.[e]?.[f]||n,p=i.useContext(m);if(p)return p;if(s!==void 0)return s;throw new Error(`\`${a}\` must be used within \`${c}\``)}return[d,l]}const r=()=>{const c=o.map(s=>i.createContext(s));return function(n){const f=n?.[e]||c;return i.useMemo(()=>({[`__scope${e}`]:{...n,[e]:f}}),[n,f])}};return r.scopeName=e,[u,g(r,...t)]}function g(...e){const t=e[0];if(e.length===1)return t;const o=()=>{const u=e.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(c){const s=u.reduce((n,{useScope:f,scopeName:d})=>{const a=f(c)[`__scope${d}`];return{...n,...a}},{});return i.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return o.scopeName=t.scopeName,o}function H(e,t,{checkForDefaultPrevented:o=!0}={}){return function(r){if(e?.(r),o===!1||!r.defaultPrevented)return t?.(r)}}var S=globalThis?.document?i.useLayoutEffect:()=>{},y=C[" useInsertionEffect ".trim().toString()]||S;function M({prop:e,defaultProp:t,onChange:o=()=>{},caller:u}){const[r,c,s]=P({defaultProp:t,onChange:o}),n=e!==void 0,f=n?e:r;{const l=i.useRef(e!==void 0);i.useEffect(()=>{const a=l.current;a!==n&&console.warn(`${u} is changing from ${a?"controlled":"uncontrolled"} to ${n?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),l.current=n},[n,u])}const d=i.useCallback(l=>{if(n){const a=z(l)?l(e):l;a!==e&&s.current?.(a)}else c(l)},[n,e,c,s]);return[f,d]}function P({defaultProp:e,onChange:t}){const[o,u]=i.useState(e),r=i.useRef(o),c=i.useRef(t);return y(()=>{c.current=t},[t]),i.useEffect(()=>{r.current!==o&&(c.current?.(o),r.current=o)},[o,r]),[o,u,c]}function z(e){return typeof e=="function"}function N(e){const t=i.useRef({value:e,previous:e});return i.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}function O(e){const[t,o]=i.useState(void 0);return S(()=>{if(e){o({width:e.offsetWidth,height:e.offsetHeight});const u=new ResizeObserver(r=>{if(!Array.isArray(r)||!r.length)return;const c=r[0];let s,n;if("borderBoxSize"in c){const f=c.borderBoxSize,d=Array.isArray(f)?f[0]:f;s=d.inlineSize,n=d.blockSize}else s=e.offsetWidth,n=e.offsetHeight;o({width:s,height:n})});return u.observe(e,{box:"border-box"}),()=>u.unobserve(e)}else o(void 0)},[e]),t}var R=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],k=R.reduce((e,t)=>{const o=w(`Primitive.${t}`),u=i.forwardRef((r,c)=>{const{asChild:s,...n}=r,f=s?o:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),h.jsx(f,{...n,ref:c})});return u.displayName=`Primitive.${t}`,{...e,[t]:u}},{});function B(e,t){e&&E.flushSync(()=>e.dispatchEvent(t))}export{k as P,M as a,H as b,D as c,N as d,O as e,B as f,S as u};
